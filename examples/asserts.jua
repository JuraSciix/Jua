fn assert(cond, msg) {
    if !cond {
        panic("assertion failed: " + msg);
    }
}

fn assert_eq(actual, expected, msg = null) {
    if actual != expected {
        var str = "assertion failed: actual [" + actual + "] doesn't match the expected [" + expected + "]";
        if msg != null {
            str += ": " + msg;
        }
        panic(str);
    }
}